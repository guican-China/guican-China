<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <title>爱心码-居民</title>
    <style type="text/css">
        body{
            margin: 0;
            padding: 0;
            border: 0;
        }
        #daohanglan{
            text-decoration: none;
        }
        #wzxx{
            text-decoration: none;
        }
        #yhfk{
            text-decoration: none;
        }
        #wzxx:hover{
            background-color: gray;
        }
        #yhfk:hover{
            background-color: gray;
        }
    </style>
</head>
<body>
<header id="daohanglan" style="background-color: black">
    <a href="Shouye.html" style="color: white;font-weight: bolder;font-size: 20px">爱心码</a>
    <a href="Gongyingshang.html" style="color: white">供应商</a>
    <a href="Jiedao.html" style="color: white">街道</a>
    <a href="Xiaoqu.html" style="color: white">小区</a>
    <a href="Jumin.html" style="color: white">居民</a>
</header>
<table>
    <tr>
        <!-- menu -->
        <td style="background-color: gainsboro;padding-left: 50px; width: 75px;padding-right: 50px;padding-bottom: 500px;margin: 0">
            <li style="list-style-type: none"><a class="active" href="#" style="color: black;font-size: 18px" id="wzxx">物资信息</a></li>
            <li style="list-style-type: none"><a href="Fankui.html" style="color: black;font-size: 18px" id="yhfk">用户反馈</a></li>
        </td>
        <!-- content -->
        <td id="content-td">

            <h2 id="title" style="text-align: center">
                物资包列表
            </h2>

            <table rules="rows" cellpadding="20px" style="text-align: center" id="t1">
                <tr style="background-color: gainsboro">
                    <th>ID</th>
                    <th>种类</th>
                    <th>数量</th>
                    <th>生产日期</th>
                    <th>保质期</th>
                    <th>供应商</th>
                    <th>mp_id</th>
                </tr>
                <tr>
                    <td>1</td>
                    <td>肉类</td>
                    <td>10</td>
                    <td>2022-4-14 23:00:00</td>
                    <td>2天</td>
                    <td>京东</td>
                    <td>1</td>
                </tr>
            </table>
        </td>
    </tr>
</table>

<p style="text-align: center;background-color: cornsilk;margin: 0">版权© xxx</p>

<script>
    function load() {
        const request = new XMLHttpRequest();

        request.onreadystatechange = function () {
            if(request.readyState === 4) {
                // 表示完成相应

                if (request.status === 200) {
                    // 成功，通过responseText拿到响应的文本:
                    return success(request.responseText);
                }else {
                    // 失败，根据响应码判断失败原因:
                    return fail(request.status);
                }
            }
        }

        // 发送请求:
        request.open('GET', 'http://localhost:63342/Ani.java/Jumin.html?_ijt=elcde98catnbu6albcsogqob3r#home');
        request.send();
    }

    function success(txt) {
        console.log(txt)

        let json = JSON.parse(txt);
        console.log("id", json.id);
        console.log("name", json.name);

        let table = document.getElementById("panel-data");


        let html = "<tr>" +
            "<td>" + json.id + "</td>" +
            "<td>" + json.种类 + "</td>" +
            "<td>" + json.数量 + "</td>" +
            "<td>" + json.生产日期 + "</td>" +
            "<td>" + json.保质期 + "</td>" +
            "<td>" + json.供应商 + "</td>" +
            "<td>" + json.mp_id + "</td>" +
            "</tr>";
        document.getElementById("t1").innerHTML = html;
    }

    function fail(status) {
        console.log(status)
    }

</script>
</body>
</html>